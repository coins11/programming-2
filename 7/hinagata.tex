\documentclass[11pt,a4paper,a4j]{jsarticle}
\usepackage{okumacro, fancybox, ascmac}
\usepackage{listings}

\title{プログラミング入門II 演習報告書}
\author{吉村　優（201111411）\\
mail:yoshimura\_yuu@coins.tsukuba.ac.jp}

\begin{document}
\maketitle

\part*{演習七}

\section{}
\subsection{ソース}

\begin{lstlisting}
#include <stdio.h>

int n;
int route[100][100];

int distance (int i, int j, int path[], int count);

int main(void)
{
	int i, j;
	int path[100];

	for (i = 0; i < 100; i++) {
		path[i] = -1;
	}

	scanf("%d", &n);

	for (i = 0; i < n; i++) {
		for (j = 0; j < n; j++) {
			scanf("%d", &route[i][j]);
		}
	}

	printf("0, ");
	for (i = 0; path[i] > 0; i++) {
		
		printf("%d, ", path[i]);
		if (path[i] == n-1) {
			break;
		}
	}

	puts("");

	return 0;
}

int distance (int i, int j, int path[], int count)
{
	int d, k, min;

	min = 1000;

	if (i == j) {
		return 0;
	}

	for (k = 0; k < n; k++) {
		if (route[i][k] == 0) {
			continue;
		} else {
			d = route[i][k] + distance(k, j, path, count+1);
		}

		if (d < min) {
			min = d;
			path[count] = k;
		}
	}

	return min;
}
\end{lstlisting}

\subsection{結果}
\begin{shadebox}
\begin{verbatim}
yoshimura_yuu $ ./1 < prog2-ex7-data.txt
0, 1, 4, 5, 9,
\end{verbatim}
\end{shadebox}

\clearpage
\section{}
\subsection{ソース}
\begin{lstlisting}
#include <stdio.h>

int n;
int route[100][100];

void distance (int i, int j, int path[], int count);

int main(void)
{
	int i, j;
	int path[100];

	for (i = 0; i < 100; i++) {
		path[i] = -1;
	}

	scanf("%d", &n);

	for (i = 0; i < n; i++) {
		for (j = 0; j < n; j++) {
			scanf("%d", &route[i][j]);
		}
	}

	distance(0, n - 1, path, 0);

	puts("");

	return 0;
}

void distance (int i, int j, int path[], int count)
{
	int d, k, min;

	min = 1000;

	if (i == j) {
		printf("0, ");
		for (i = 0; path[i] > 0; i++) {
			printf("%d, ", path[i]);
			
			if (path[i] == n-1) {
				puts("");
				break;
			}
		}
		return 0;
	}

	for (k = 0; k < n; k++) {
		if (route[i][k] == 0) {
			continue;
		} else {
			path[count] = k;
			distance(k, j, path, count+1);
		}
	}
}
\end{lstlisting}

\subsection{結果}
\begin{shadebox}
\begin{verbatim}
yoshimura_yuu $ ./2 < prog2-ex7-data.txt
0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 
0, 1, 2, 3, 4, 5, 6, 8, 9, 
0, 1, 2, 3, 4, 5, 9, 
0, 1, 2, 6, 7, 8, 9, 
0, 1, 2, 6, 8, 9, 
0, 1, 3, 4, 5, 6, 7, 8, 9, 
0, 1, 3, 4, 5, 6, 8, 9, 
0, 1, 3, 4, 5, 9, 
0, 1, 5, 6, 7, 8, 9, 
0, 1, 5, 6, 8, 9, 
0, 1, 5, 9, 
0, 3, 4, 5, 6, 7, 8, 9, 
0, 3, 4, 5, 6, 8, 9, 
0, 3, 4, 5, 9, 
\end{verbatim}
\end{shadebox}
\clearpage

\end{document}
